<div class="panel panel-default">
  <div class="panel-heading">
    <%= link_to  content_tag(:span, "", class: " glyphicon glyphicon-hand-left"),
                 adverts_path%> List Adverts
    <h3>Advert</h3>
  </div>

  <div class="panel-body">
    <div class="container-fluid">

      <div class="row">
        <div class="col-xs-1">
          <%= if @advert.state == "created"
                link_to 'Edit', edit_advert_path(@advert), class: "btn btn-sm btn-default"
              end %>
          <%= if @advert.state == "published"
                link_to 'Edit', edit_advert_path(@advert), class: "btn btn-sm btn-default disabled"
              end %>
        </div>
        <div class="col-xs-1">

          <%= link_to 'Destroy', @advert, class: "btn btn-sm btn-danger", method: :delete, data: {confirm: 'Are you sure?'} %>
        </div>

        <div class="col-xs-1">
          <%= if @advert.state == "created"
                form_for @advert, as: :post, method: :patch, url: publish_advert_path(@advert) do |f|
                  f.submit "Publish", class: "btn btn-sm btn-warning", data: {confirm: "Are you sure?"}
                end
              end %>
          <%= if @advert.state == "published"
                form_for @advert, as: :post, method: :patch, url: unpublish_advert_path(@advert) do |f|
                  f.submit "Unpublish", class: "btn btn-sm btn-warning", data: {confirm: "Are you sure?"}
                end
              end %>
        </div>
        <div class="col-xs-9"> </div>

      </div>

      <%= render partial: 'show', locals: {:advert => @advert} %>
    </div>
  </div>
</div>
