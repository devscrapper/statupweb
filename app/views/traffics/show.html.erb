<div class="panel panel-default">
  <div class="panel-heading">
    <h3>Traffic</h3>
  </div>

  <div class="panel-body">
    <div class="container-fluid">

      <div class="row">
        <div class="col-xs-1">
          <%= if @traffic.state == "created"
                link_to 'Edit', edit_traffic_path(@traffic), class: "btn btn-sm btn-default"
              end %>
          <%= if @traffic.state == "published"
                link_to 'Edit', edit_traffic_path(@traffic), class: "btn btn-sm btn-default disabled"
              end %>
        </div>
        <div class="col-xs-1">

          <%= link_to 'Destroy', @traffic, class: "btn btn-sm btn-danger", method: :delete, data: {confirm: 'Are you sure?'} %>
        </div>

        <div class="col-xs-1">
          <%= if @traffic.state == "created"
                form_for @traffic, as: :post, method: :patch, url: publish_traffic_path(@traffic) do |f|
                  f.submit "Publish", class: "btn btn-sm btn-warning", data: {confirm: "Are you sure?"}
                end
              end %>
          <%= if @traffic.state == "published"
                form_for @traffic, as: :post, method: :patch, url: unpublish_traffic_path(@traffic) do |f|
                  f.submit "Unpublish", class: "btn btn-sm btn-warning", data: {confirm: "Are you sure?"}
                end
              end %>
        </div>
        <div class="col-xs-9"> </div>

      </div>

      <%= render partial: 'show', locals: {:traffic => @traffic} %>
    </div>
  </div>
</div>
